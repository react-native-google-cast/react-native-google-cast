{"version":3,"sources":["CastSession.ts"],"names":["NativeEventEmitter","NativeModules","CastChannel","RemoteMediaClient","RNGCCastSession","Native","EventEmitter","CastSession","constructor","args","id","addChannel","namespace","add","getActiveInputState","getApplicationMetadata","getApplicationStatus","getCastDevice","getClient","client","getStandbyState","getVolume","isMute","setMute","mute","setVolume","volume","onActiveInputStateChanged","listener","addListener","ACTIVE_INPUT_STATE_CHANGED","onStandbyStateChanged","STANDBY_STATE_CHANGED"],"mappings":";;AAAA,SAASA,kBAAT,EAA6BC,aAA7B,QAAkD,cAAlD;AAKA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AAEA,MAAM;AAAEC,EAAAA,eAAe,EAAEC;AAAnB,IAA8BJ,aAApC;AACA,MAAMK,YAAY,GAAG,IAAIN,kBAAJ,CAAuBK,MAAvB,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAME,WAAN,CAAkB;AAG/B;AAGAC,EAAAA,WAAW,CAACC,IAAD,EAAwB;AAAA,oCAL1B,IAAIN,iBAAJ,EAK0B;;AAAA;;AACjC,SAAKO,EAAL,GAAUD,IAAI,CAACC,EAAf;AACD;AAED;AACF;AACA;AACA;AACA;;;AACEC,EAAAA,UAAU,CAACC,SAAD,EAA0C;AAClD,WAAOV,WAAW,CAACW,GAAZ,CAAgB,IAAhB,EAAsBD,SAAtB,CAAP;AACD;AAED;AACF;AACA;AACA;;;AACEE,EAAAA,mBAAmB,GAA8B;AAC/C,WAAOT,MAAM,CAACS,mBAAP,EAAP;AACD;AAED;AACF;AACA;AACA;AACA;;;AACEC,EAAAA,sBAAsB,GAAiC;AACrD,WAAOV,MAAM,CAACU,sBAAP,EAAP;AACD;AAED;AACF;AACA;AACA;AACA;;;AACEC,EAAAA,oBAAoB,GAAoB;AACtC,WAAOX,MAAM,CAACW,oBAAP,EAAP;AACD;AAED;AACF;AACA;;;AACEC,EAAAA,aAAa,GAAoB;AAC/B,WAAOZ,MAAM,CAACY,aAAP,EAAP;AACD;;AAEDC,EAAAA,SAAS,GAAsB;AAC7B,WAAO,KAAKC,MAAZ;AACD;AAED;AACF;AACA;;;AACEC,EAAAA,eAAe,GAA0B;AACvC,WAAOf,MAAM,CAACe,eAAP,EAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,SAAS,GAAoB;AAC3B,WAAOhB,MAAM,CAACgB,SAAP,EAAP;AACD;AAED;AACF;AACA;AACA;;;AACEC,EAAAA,MAAM,GAAqB;AACzB,WAAOjB,MAAM,CAACiB,MAAP,EAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,OAAO,CAACC,IAAD,EAA+B;AACpC,WAAOnB,MAAM,CAACkB,OAAP,CAAeC,IAAf,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,SAAS,CAACC,MAAD,EAAgC;AACvC,WAAOrB,MAAM,CAACkB,OAAP,CAAeG,MAAf,CAAP;AACD,GAnG8B,CAqG/B;AACA;AACA;;;AAEAC,EAAAA,yBAAyB,CAACC,QAAD,EAA8C;AACrE,WAAOtB,YAAY,CAACuB,WAAb,CAAyBxB,MAAM,CAACyB,0BAAhC,EAA4DF,QAA5D,CAAP;AACD;;AAEDG,EAAAA,qBAAqB,CAACH,QAAD,EAA0C;AAC7D,WAAOtB,YAAY,CAACuB,WAAb,CAAyBxB,MAAM,CAAC2B,qBAAhC,EAAuDJ,QAAvD,CAAP;AACD;;AA/G8B","sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native'\nimport ActiveInputState from '../types/ActiveInputState'\nimport ApplicationMetadata from '../types/ApplicationMetadata'\nimport Device from '../types/Device'\nimport StandbyState from '../types/StandbyState'\nimport CastChannel from './CastChannel'\nimport RemoteMediaClient from './RemoteMediaClient'\n\nconst { RNGCCastSession: Native } = NativeModules\nconst EventEmitter = new NativeEventEmitter(Native)\n\n/**\n * Cast sessions are created and managed automatically by the {@link SessionManager}, for example when the user selects a Cast device from the media route controller dialog. The current active CastSession can be accessed by {@link CastContext.getCurrentCastSession}.\n *\n * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_cast_session) | [Chrome](https://developers.google.com/cast/docs/reference/chrome/cast.framework.CastSession)\n *\n * @example\n * ```js\n * import { useCastSession } from 'react-native-google-cast'\n *\n * function MyComponent() {\n *   const castSession = useCastSession()\n *\n *   if (castSession) {\n *     // ...\n *   }\n * }\n * ```\n */\nexport default class CastSession {\n  client = new RemoteMediaClient()\n\n  /** Unique session ID. */\n  id?: string\n\n  constructor(args: { id?: string }) {\n    this.id = args.id\n  }\n\n  /**\n   * Creates a channel for sending custom messages between this sender and the Cast receiver. Use when you've built a custom receiver and want to communicate with it.\n   *\n   * @param namespace A custom channel identifier starting with `urn:x-cast:`, for example `urn:x-cast:com.reactnative.googlecast.example`. The namespace name is arbitrary; just make sure it's unique.\n   */\n  addChannel(namespace: string): Promise<CastChannel> {\n    return CastChannel.add(this, namespace)\n  }\n\n  /**\n   * Indicates whether a receiver device is currently the active video input.\n   * Active input state can only be reported when the Google cast device is connected to a TV or AVR with CEC support.\n   */\n  getActiveInputState(): Promise<ActiveInputState> {\n    return Native.getActiveInputState()\n  }\n\n  /**\n   * Returns the metadata for the currently running receiver application, or `null` if the metadata is unavailable.\n   *\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#getApplicationMetadata()) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_cast_session.html#aa48324aeb26bd15ec3b7e052138ea48c) | [Chrome](https://developers.google.com/cast/docs/reference/chrome/cast.framework.CastSession#getApplicationMetadata)\n   */\n  getApplicationMetadata(): Promise<ApplicationMetadata> {\n    return Native.getApplicationMetadata()\n  }\n\n  /**\n   * Returns the current receiver application status, if any. Message text is localized to the Google Cast device's locale.\n   *\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#getApplicationStatus()) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_session#a1821f77bc0c0dc159419608105483a0a) _deviceStatusText_ | [Chrome](https://developers.google.com/cast/docs/reference/chrome/cast.framework.CastSession#getApplicationStatus)\n   */\n  getApplicationStatus(): Promise<string> {\n    return Native.getApplicationStatus()\n  }\n\n  /**\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#getCastDevice()) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_session#a30d6130e558b235e37f1cbded2d27ce8) | [Chrome](https://developers.google.com/cast/docs/reference/chrome/cast.framework.CastSession#getCastDevice)\n   */\n  getCastDevice(): Promise<Device> {\n    return Native.getCastDevice()\n  }\n\n  getClient(): RemoteMediaClient {\n    return this.client\n  }\n\n  /**\n   * Indicates whether a receiver device's connected TV or AVR is currently in \"standby\" mode.\n   */\n  getStandbyState(): Promise<StandbyState> {\n    return Native.getStandbyState()\n  }\n\n  /**\n   * Returns the device's volume.\n   *\n   * @returns {number} Volume in the range [0.0, 1.0].\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#getVolume()) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_session#af4120ee98a679c4ed3abc6ba6b59cf12)\n   */\n  getVolume(): Promise<number> {\n    return Native.getVolume()\n  }\n\n  /**\n   * @returns {boolean}\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#isMute())\n   */\n  isMute(): Promise<boolean> {\n    return Native.isMute()\n  }\n\n  /**\n   * Mutes or unmutes the device's audio.\n   *\n   * @param mute The new mute state.\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#setMute(boolean)) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_session#aac1dc4461b6d7ae6f1f5f9dc93cafebd)\n   */\n  setMute(mute: boolean): Promise<void> {\n    return Native.setMute(mute)\n  }\n\n  /**\n   * Sets the device volume.\n   *\n   * @param volume If volume is outside of the range [0.0, 1.0], then the value will be clipped.\n   * @see [Android](https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastSession.html#setVolume(double)) | [iOS](https://developers.google.com/cast/docs/reference/ios/interface_g_c_k_session#a68dcca2fdf1f4aebee394f0af56e7fb8)\n   */\n  setVolume(volume: number): Promise<void> {\n    return Native.setMute(volume)\n  }\n\n  // ========== //\n  //   EVENTS   //\n  // ========== //\n\n  onActiveInputStateChanged(listener: (state: ActiveInputState) => void) {\n    return EventEmitter.addListener(Native.ACTIVE_INPUT_STATE_CHANGED, listener)\n  }\n\n  onStandbyStateChanged(listener: (state: StandbyState) => void) {\n    return EventEmitter.addListener(Native.STANDBY_STATE_CHANGED, listener)\n  }\n}\n"]}