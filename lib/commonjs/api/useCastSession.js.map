{"version":3,"sources":["useCastSession.ts"],"names":["useCastSession","castSession","setCastSession","manager","getCurrentCastSession","then","started","onSessionStarted","resumed","onSessionResumed","ended","onSessionEnded","remove","SessionManager"],"mappings":";;;;;;;AAAA;;AAEA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASA,cAAT,GAA8C;AAC3D,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC,qBAA6B,IAA7B,CAAtC;AAEA,wBAAU,MAAM;AACdC,IAAAA,OAAO,CAACC,qBAAR,GAAgCC,IAAhC,CAAqCH,cAArC;AAEA,UAAMI,OAAO,GAAGH,OAAO,CAACI,gBAAR,CAAyBL,cAAzB,CAAhB;AACA,UAAMM,OAAO,GAAGL,OAAO,CAACM,gBAAR,CAAyBP,cAAzB,CAAhB;AACA,UAAMQ,KAAK,GAAGP,OAAO,CAACQ,cAAR,CAAuB,MAAMT,cAAc,CAAC,IAAD,CAA3C,CAAd;AAEA,WAAO,MAAM;AACXI,MAAAA,OAAO,CAACM,MAAR;AACAJ,MAAAA,OAAO,CAACI,MAAR;AACAF,MAAAA,KAAK,CAACE,MAAN;AACD,KAJD;AAKD,GAZD,EAYG,EAZH;AAcA,SAAOX,WAAP;AACD;;AAED,MAAME,OAAO,GAAG,IAAIU,uBAAJ,EAAhB","sourcesContent":["import { useEffect, useState } from 'react'\nimport CastSession from './CastSession'\nimport SessionManager from './SessionManager'\n\n/**\n * Hook that provides the current {@link CastSession}.\n *\n * @returns current session, or `null` if there's no session connected\n * @example\n * ```js\n * import { useCastSession } from 'react-native-google-cast'\n *\n * function MyComponent() {\n *   const castSession = useCastSession()\n *\n *   if (castSession) {\n *     castSession.client.loadMedia(...)\n *   }\n * }\n * ```\n */\n\nexport default function useCastSession(): CastSession | null {\n  const [castSession, setCastSession] = useState<CastSession | null>(null)\n\n  useEffect(() => {\n    manager.getCurrentCastSession().then(setCastSession)\n\n    const started = manager.onSessionStarted(setCastSession)\n    const resumed = manager.onSessionResumed(setCastSession)\n    const ended = manager.onSessionEnded(() => setCastSession(null))\n\n    return () => {\n      started.remove()\n      resumed.remove()\n      ended.remove()\n    }\n  }, [])\n\n  return castSession\n}\n\nconst manager = new SessionManager()\n"]}